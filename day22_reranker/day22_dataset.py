"""
Day 22 Mini Dataset for Reranker Testing (Clean Version)
--------------------------------------------------------
三主题 × 各 10 条文档，去掉了括号内的提示说明，保持纯正文，
用于单路召回与 Reranker 对比实验。
"""

# 建议查询
QUERIES = {
    "A": [
        "量子计算对现代密码学的影响",
        "Shor算法是否会威胁RSA与ECC"
    ],
    "B": [
        "服务网格在流量治理与可观测性中的作用",
        "Istio sidecar 带来的性能与治理权衡"
    ],
    "C": [
        "BM25 与向量检索如何做多路召回与重排序"
    ],
}

# 文档内容
DOCUMENTS = {
    # 主题 A：量子计算 × 密码学
    "A": [
        "量子算法 Shor 可在多项式时间完成质因数分解，对 RSA/ECC 构成潜在威胁。",
        "Grover 算法可对对称密钥搜索提速，建议从 128 提高到 256 位以缓解风险。",
        "后量子密码学（PQC）正在标准化，如基于格的方案，用于抵御大规模量子机。",
        "量子叠加与纠缠带来并行性，但落地门槛包括纠错码与物理可扩展性。",
        "量子计算短期更可能用于密码分析研究与密钥管理评估，而非全面替代经典体系。",
        "NIST 正推进 PQC 方案选型与迁移路线，强调过渡期双轨部署。",
        "量子在材料科学、药物研发领域可加速求解，但与密码学关系较为间接。",
        "区块链共识机制改进与拜占庭容错算法优化。",
        "云计算弹性扩缩容降低 IT 成本。",
        "AI 在图像识别上的突破。",
    ],

    # 主题 B：服务网格 × 云原生
    "B": [
        "服务网格以 sidecar 代理实现灰度发布、限流熔断、重试超时等流量治理能力。",
        "可观测性：统一指标、分布式追踪与结构化日志，降低跨语言栈排障复杂度。",
        "零信任与 mTLS 在网格内提供服务到服务的加密与认证授权。",
        "Istio 控制平面与数据平面分离，CRD 驱动策略；引入会带来资源开销与复杂度。",
        "Sidecar 注入带来额外网络跳数与 CPU/内存开销，需要与收益权衡。",
        "服务网格与 API 网关协同：南北向与东西向职责分离。",
        "Docker 镜像多阶段构建技巧。",
        "对象存储生命周期管理。",
        "CI/CD 基础术语。",
        "NoSQL 索引优化。",
    ],

    # 主题 C：BM25 × 向量召回 × Rerank
    "C": [
        "BM25 对稀有关键词命中敏感，适合术语精确匹配；对同义改写鲁棒性较弱。",
        "向量检索以 embedding 捕捉语义相似，能覆盖同义、改写与长短句变化。",
        "多路召回：BM25 Top-K 与向量 Top-K 合并去重，之后用 Reranker 精排。",
        "Reranker（cross-encoder）对 query 与文档成对编码，细粒度对齐但计算开销更高。",
        "候选集规模常设 K=50–200，按延迟与召回覆盖权衡进行调整。",
        "混合加权或学习排序可在精排前对多路候选进行预融合。",
        "RESTful API 命名规范。",
        "前端虚拟列表优化。",
        "图数据库遍历算法简介。",
        "K8s 节点污点与容忍度。",
    ],
}

# 扁平化便捷访问
ALL_TOPICS = ["A", "B", "C"]
ALL_QUERIES = [q for topic in ALL_TOPICS for q in QUERIES[topic]]
ALL_DOCUMENTS = [doc for topic in ALL_TOPICS for doc in DOCUMENTS[topic]]
